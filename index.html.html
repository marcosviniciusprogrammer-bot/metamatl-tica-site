<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Metamatl√©tica ‚Äî P√°gina Informativa</title>
<style>
:root{
  --bg:#070b1a;--bg2:#0b1330;--panel:#0e1840;--card:#0f1b46;
  --text:#eaf1ff;--muted:#b7c2df;--accent:#86a8ff;--accent2:#7ee0ff;
  --ok:#2dd4bf;--warn:#f59e0b;--err:#ef4444;
  --radius:20px;--shadow:0 18px 50px rgba(0,0,0,.45);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background:
    radial-gradient(1000px 700px at 5% -10%, #21308a55, transparent),
    radial-gradient(900px 700px at 110% -20%, #0f1f6a66, transparent),
    linear-gradient(180deg, var(--bg), var(--bg2));
}
a{color:var(--accent2);text-decoration:none}
.container{max-width:1150px;margin:0 auto;padding:24px}
.nav{
  position:sticky;top:0;z-index:40;background:rgba(8,12,29,.75);
  backdrop-filter: blur(8px); border-bottom:1px solid rgba(255,255,255,.08);
}
.nav .row{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:10px 14px}
.badge{background:rgba(134,168,255,.15);border:1px solid rgba(134,168,255,.45);color:#dfe7ff;padding:6px 10px;border-radius:999px;font-weight:700}
.menu{display:flex;gap:14px;flex-wrap:wrap}
.menu a{padding:8px 10px;border-radius:12px;font-weight:700;color:#dfe7ff}
.menu a:hover{background:rgba(134,168,255,.12)}
h1,h2,h3{margin:0 0 10px}
.lead{color:var(--muted)}
.section{margin:22px 0}
.card{
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border:1px solid rgba(255,255,255,.12); border-radius:var(--radius); box-shadow:var(--shadow); padding:18px;
}
.grid{display:grid;gap:14px}
.grid.cols-3{grid-template-columns:repeat(3,1fr)}
.grid.cols-2{grid-template-columns:repeat(2,1fr)}
.grid.cols-4{grid-template-columns:repeat(4,1fr)}
@media (max-width:980px){ .grid.cols-3, .grid.cols-4 {grid-template-columns:1fr 1fr} }
@media (max-width:640px){ .grid.cols-3, .grid.cols-4, .grid.cols-2 {grid-template-columns:1fr} }

.hero{
  display:grid;grid-template-columns:2.2fr 1.2fr;gap:18px;align-items:stretch;
}
@media (max-width:980px){ .hero{grid-template-columns:1fr} }

.btn{
  background:linear-gradient(180deg,#9ec2ff,#5b86ff);color:#0a1020;border:none;
  padding:13px 16px;border-radius:16px;font-weight:900;cursor:pointer;
  box-shadow:0 10px 22px rgba(79,120,255,.45); transition:.18s transform, .2s box-shadow;
}
.btn:hover{transform:translateY(-2px); box-shadow:0 18px 32px rgba(79,120,255,.45)}
.btn.alt{background:rgba(255,255,255,.08); color:var(--text); border:1px solid rgba(255,255,255,.15); box-shadow:none}
.kicker{font-weight:900;color:#cfe0ff;letter-spacing:.2px;margin-bottom:4px}

.item{background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.12); border-radius:16px; padding:14px}
.item h3{font-size:20px}
.mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; background:rgba(255,255,255,.07); padding:1px 6px;border-radius:6px}

/* ---- Demo de regras (cartas) ---- */
.demo-wrap{position:relative}
.toolbar{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:10px}
.tbtn{background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.15); color:var(--text);
  padding:10px 12px;border-radius:12px;font-weight:800;cursor:pointer}
.tbtn:hover{background:rgba(255,255,255,.12)}
.progress{height:8px;border-radius:999px;background:#192456;border:1px solid #2a3a7a;overflow:hidden}
.fill{height:100%;width:0;background:linear-gradient(90deg,#6fa3ff,#9ec2ff)}

.board{display:grid;gap:10px;padding:12px;border-radius:18px;border:1px solid rgba(255,255,255,.1);
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02))}
.cols-5{grid-template-columns:repeat(5,1fr)}
.cardx{aspect-ratio:3/4;border-radius:16px;position:relative;overflow:hidden;cursor:pointer;
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.2), 0 10px 20px rgba(0,0,0,.35); background:#0e1a43}
.inner{position:absolute;inset:0; transform-style:preserve-3d; transition:transform .45s cubic-bezier(.2,.8,.2,1)}
.cardx.flip .inner{transform:rotateY(180deg)}
.face{position:absolute;inset:0;display:flex;align-items:center;justify-content:center; backface-visibility:hidden}
.front{background:radial-gradient(120% 120% at 20% 0%, #1a2860, #0c163d 70%)}
.back{transform:rotateY(180deg); background:#dff7e8}
.back .emoji{font-size:clamp(26px, 6.5vw, 48px)}
.matched{outline:4px solid #22c55e; outline-offset:-4px; animation:blink .9s ease 1}
@keyframes blink{0%{outline-color:#22c55e} 50%{outline-color:#84f3c9} 100%{outline-color:#22c55e}}
.demo-bw{filter:grayscale(1) brightness(.78) contrast(1.25)}
.inverse{transform:rotate(180deg)}
.note{color:var(--muted); font-size:14px; margin-top:8px}

/* subtle motions */
.fade-in{animation:fade .45s ease both}
@keyframes fade{from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)}}
.float{animation:float 6s ease-in-out infinite}
@keyframes float{0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)}}
</style>
</head>
<body>
  <div class="nav">
    <div class="container row">
      <div class="badge">üéÆ Metamatl√©tica</div>
      <div class="menu">
        <a href="#pc">Pensamento Computacional</a>
        <a href="#design">Design de Jogos</a>
        <a href="#math">Matem√°tica & Computa√ß√£o</a>
        <a href="#regras">Regras do Jogo (demo)</a>
        <a href="#jogar" class="btn alt">Jogar agora</a>
      </div>
    </div>
  </div>

  <div class="container section hero fade-in">
    <div class="card">
      <div class="kicker">Projeto educacional</div>
      <h1 style="font-size:clamp(28px,6vw,44px)">Metamatl√©tica</h1>
      <p class="lead">Uma ponte entre <b>Pensamento Computacional</b>, <b>Design de Jogos</b> e <b>Matem√°tica</b> que move a computa√ß√£o ‚Äî com um jogo de mem√≥ria competitivo como exemplo.</p>
      <div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap">
        <a class="btn" href="#regras">Ver regras e demo</a>
        <a class="btn alt" href="#math">Ver matem√°tica por tr√°s</a>
      </div>
    </div>
    <div class="card">
      <h3>O que voc√™ encontra aqui</h3>
      <ul>
        <li>Conceitos essenciais de Pensamento Computacional (independentes do jogo).</li>
        <li>Princ√≠pios reais de Design de Jogos e <i>pipeline</i> de cria√ß√£o.</li>
        <li>Onde a Matem√°tica aparece de verdade na Computa√ß√£o.</li>
        <li>Regras do modo competitivo + demo interativa com eventos.</li>
      </ul>
    </div>
  </div>

  <!-- Pensamento Computacional (conte√∫do geral, n√£o do jogo) -->
  <div class="container section" id="pc">
    <h2>üß† Pensamento Computacional (vis√£o geral)</h2>
    <p class="lead">Habilidade de <b>formular problemas</b> e <b>expressar solu√ß√µes de forma execut√°vel por pessoas e m√°quinas</b>. Vale para qualquer √°rea.</p>
    <div class="grid cols-3">
      <div class="item"><h3>üß© Decomposi√ß√£o</h3><p>Quebrar um problema grande em partes menores. Ex.: dividir um jogo em <i>UI</i>, regras, √°udio, placar e testes.</p></div>
      <div class="item"><h3>üîç Reconhecimento de Padr√µes</h3><p>Procurar repeti√ß√µes para evitar retrabalho. Ex.: fluxo de ‚Äúvirar, checar, voltar‚Äù pode virar uma fun√ß√£o.</p></div>
      <div class="item"><h3>üó∫Ô∏è Abstra√ß√£o</h3><p>Focar no essencial com modelos: <span class="mono">{ key, matched }</span>, estados globais (<span class="mono">moves, sec, score</span>).</p></div>

      <div class="item"><h3>‚öôÔ∏è Algoritmos</h3><p>Sequ√™ncias claras de passos. Ex.: <b>Fisher‚ÄìYates</b> para embaralhar; busca por pares; agendador de eventos.</p></div>
      <div class="item"><h3>üß™ Teste & Depura√ß√£o</h3><p>Garantir que o sistema se comporta bem. Ex.: travas para n√£o abrir 3 cartas; embaralhar sem ‚Äúresetar‚Äù conte√∫do.</p></div>
      <div class="item"><h3>üìè M√©tricas</h3><p>Medir para melhorar (tempo, erros, taxa de acerto, pontua√ß√£o). Ajuda no balanceamento.</p></div>

      <div class="item"><h3>ü§ù Colabora√ß√£o & Vers√µes</h3><p>Trabalho em equipe, <span class="mono">git</span>, <i>issues</i> e prototipa√ß√£o iterativa.</p></div>
      <div class="item"><h3>üßÆ Representa√ß√£o de Dados</h3><p>Estruturas (listas, mapas), nota√ß√£o booleana e fun√ß√µes puras para previsibilidade.</p></div>
      <div class="item"><h3>üèóÔ∏è Pensar em Sistemas</h3><p>Como pe√ßas interagem: entrada ‚Üí processamento ‚Üí sa√≠da. √ötil na computa√ß√£o f√≠sica e jogos.</p></div>
    </div>
  </div>

  <!-- Design de jogos + pipeline -->
  <div class="container section" id="design">
    <h2>üé® Design de Jogos (do zero ao prot√≥tipo)</h2>
    <div class="grid cols-3">
      <div class="item"><h3>1) Ideia & Objetivos</h3><p>Defina a fantasia do jogador, p√∫blico e plataforma. Ex.: jogo r√°pido de mem√≥ria, mobile-first, partidas de 2‚Äì4 min.</p></div>
      <div class="item"><h3>2) Mec√¢nicas</h3><p>A√ß√µes b√°sicas: virar, combinar, errar ‚Üí voltar. Eventos alteram o ritmo (embaralhar, P&B, inverter, vis√£o r√°pida).</p></div>
      <div class="item"><h3>3) Prototipa√ß√£o</h3><p>Comece simples: quadrados e texto. Valide <i>flow</i>, tempo de rodada, curva de dificuldade e acessibilidade.</p></div>

      <div class="item"><h3>4) Conte√∫do & Arte</h3><p>Escolha tema (frutas, animais, emojis). Padronize cores e anima√ß√µes curtas e leg√≠veis.</p></div>
      <div class="item"><h3>5) Balanceamento</h3><p>Ajuste n√∫mero de cartas, frequ√™ncia/for√ßa de eventos, dura√ß√£o da pr√©via e pontua√ß√£o.</p></div>
      <div class="item"><h3>6) Testes & Telemetria</h3><p>Mensure erros por minuto, acertos, desist√™ncias. Itere semanalmente.</p></div>

      <div class="item"><h3>7) Educa√ß√£o & Sa√∫de</h3><p>Jogos educativos podem fortalecer <b>aten√ß√£o</b>, <b>coordena√ß√£o motora</b>, <b>mem√≥ria de trabalho</b> e racioc√≠nio l√≥gico ‚Äî quando bem projetados e moderados.</p></div>
      <div class="item"><h3>8) Ferramentas para Criar</h3><p>Todo mundo pode come√ßar: <b>Scratch</b>, <b>Construct</b>, <b>GDevelop</b>, <b>Godot</b>, <b>Unity</b>, <b>Unreal</b> e at√© <b>HTML/CSS/JS</b>.</p></div>
      <div class="item"><h3>9) Publicar</h3><p>Lan√ßar em <b>itch.io</b>, <b>GitHub Pages</b>, <b>Play Store</b>. Coletar feedback e melhorar.</p></div>
    </div>
  </div>

  <!-- Matem√°tica na Computa√ß√£o -->
  <div class="container section" id="math">
    <h2>üßÆ Onde a Matem√°tica entra na Computa√ß√£o</h2>
    <div class="grid cols-3">
      <div class="item"><h3>L√≥gica & Conjuntos</h3><p>Estados e condi√ß√µes (vit√≥ria, ‚Äútravas‚Äù), opera√ß√µes sobre cole√ß√µes (pares, cartas restantes).</p></div>
      <div class="item"><h3>Probabilidade & Combinat√≥ria</h3><p>Chance de acerto, permuta√ß√µes no embaralhamento, amostragem de eventos e loot.</p></div>
      <div class="item"><h3>Complexidade</h3><p>Embaralhar/checar pares √© O(n). Eventos mudam o <i>ritmo</i>, n√£o o custo assint√≥tico.</p></div>

      <div class="item"><h3>Geometria / Matrizes</h3><p>Tabuleiro como matriz 2D (6√ón); transforma√ß√µes (inverter/rotacionar) e layouts responsivos.</p></div>
      <div class="item"><h3>Estat√≠stica</h3><p>M√©dias, desvios e ranking. A/B para dura√ß√£o de pr√©via e frequ√™ncia de eventos.</p></div>
      <div class="item"><h3>Grafos & Teoria dos Jogos</h3><p>Pares como arestas; modelar estrat√©gias e custos (memorizar cantos vs. centro).</p></div>
    </div>
  </div>

  <!-- Regras do jogo (texto + demo) -->
  <div class="container section" id="regras">
    <h2>üìú Regras do Jogo (demo interativa)</h2>

    <div class="card" style="margin-bottom:12px">
      <p><b>Objetivo:</b> formar todos os pares no menor <b>tempo</b> e com menos <b>jogadas</b>.</p>
      <ul>
        <li><b>Baralho:</b> frutas e emojis misturados. Grade fixa.</li>
        <li><b>Turno:</b> vire 2 cartas. Iguais =&gt; 1 par marcado. Diferentes =&gt; voltam.</li>
        <li><b>Pr√©via inicial:</b> todas as cartas abrem por um curto per√≠odo no come√ßo.</li>
        <li><b>Eventos surpresa:</b> aparecem conforme a barra enche ‚Äî <i>Embaralhar seguro</i>, <i>Preto & Branco</i>, <i>Inverter</i> e <i>Vis√£o r√°pida</i>.</li>
        <li><b>Dica √∫nica:</b> bot√£o ‚ÄúRevelar cartas gr√°tis 5s‚Äù (uso √∫nico) mostra alguns pares por pouco tempo.</li>
        <li><b>Pontua√ß√£o:</b> exemplo <span class="mono">120 √ó pares ‚àí 3 √ó jogadas ‚àí tempo</span>.</li>
      </ul>
    </div>

    <div class="card demo-wrap">
      <div class="toolbar">
        <button class="tbtn" id="btnShuf">üîÄ Embaralhar (demo)</button>
        <button class="tbtn" id="btnBW">‚ö´ Preto & Branco</button>
        <button class="tbtn" id="btnInv">üîÑ Inverter</button>
        <button class="tbtn" id="btnPeek">üëÄ Vis√£o r√°pida</button>
      </div>
      <div class="progress"><div class="fill" id="bar"></div></div>
      <div id="board" class="board cols-5" style="margin-top:10px"></div>
      <div class="note">Toque nas cartas. Ao acertar um par, a <b>carta</b> fica com moldura verde por um instante ‚Äî a imagem n√£o muda ‚Äî e depois volta ao normal.</div>
    </div>
  </div>

  <div class="container section" id="jogar">
    <div class="card">
      <h3>Pronto para jogar?</h3>
      <p>Abra o jogo completo e tente bater seu tempo.</p>
      <a class="btn" href="#" onclick="alert('Conecte aqui o link do seu jogo.');return false;">Jogar agora</a>
    </div>
  </div>

<script>
// ========== demo de regras: flip & eventos ==========
const EMOJIS = ['üçé','üçå','üçá','üçì','üçç','üçí','üçâ','ü•ù','üçê','üçä'];
const $ = s => document.querySelector(s);
const shuffle = (a)=>{for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]} return a};

let deck=[], first=null, lock=false;
const board = $('#board');

function buildDeck(){
  const items = EMOJIS.slice(0,10);
  deck = shuffle([...items, ...items]).map((k,i)=>({key:k, open:false, matched:false, id:i}));
}

function draw(){
  board.innerHTML='';
  deck.forEach((c,idx)=>{
    const b=document.createElement('button'); b.className='cardx'; b.dataset.i=idx;
    const inner=document.createElement('div'); inner.className='inner';
    if(c.open) b.classList.add('flip'); if(c.matched) b.classList.add('matched');
    const fr=document.createElement('div'); fr.className='face front';
    const bk=document.createElement('div'); bk.className='face back'; bk.innerHTML='<div class="emoji">'+c.key+'</div>';
    inner.appendChild(fr); inner.appendChild(bk); b.appendChild(inner);
    b.onclick=()=>onFlip(idx);
    board.appendChild(b);
  });
}

function onFlip(i){
  if(lock) return;
  const a=deck[i]; if(a.open || a.matched) return;
  a.open=true; sound(760,.07);
  if(first==null){ first=i; draw(); return; }
  lock=true; draw();
  const b=deck[first]; if(a.key===b.key){
    a.matched=b.matched=true; setTimeout(()=>{ a.open=b.open=false; lock=false; first=null; draw(); checkAllOpen(); }, 260);
    sound(880,.08); setTimeout(()=>sound(1160,.09),80);
  }else{
    setTimeout(()=>{ a.open=b.open=false; lock=false; first=null; draw(); }, 650);
    sound(320,.09);
  }
}

// quando TODAS as cartas estiverem casadas, reinicia o demo levemente
function checkAllOpen(){
  const allMatched = deck.every(c=>c.matched);
  if(allMatched){
    setTimeout(()=>{ initDemo(); }, 900); // reset macio
  }
}

// barra de progresso fake para os eventos de exemplo
let t=0, iv=null;
function startBar(){
  if(iv) clearInterval(iv);
  t=0; $('#bar').style.width='0%';
  iv = setInterval(()=>{ t=(t+1)%101; $('#bar').style.width = t+'%'; }, 120);
}

// ======= FIX: embaralhar seguro, sem travar carta/3 abertas =======
function shuffleUnmatched(){
  if (lock) return;
  lock = true;

  // fecha quaisquer cartas abertas n√£o resolvidas e limpa sele√ß√£o
  deck.forEach(c => { if (!c.matched) c.open = false; });
  first = null;

  // recolhe posi√ß√µes e objetos de cartas n√£o resolvidas
  const idxs = [], pool = [];
  deck.forEach((c,i) => { if (!c.matched) { idxs.push(i); pool.push(c); } });

  // embaralha a pool e recoloca nos mesmos slots (mantendo matched onde est√°)
  shuffle(pool);
  idxs.forEach((pos, k) => { deck[pos] = { ...pool[k], open:false }; });

  draw();
  setTimeout(() => { lock = false; }, 220);
}

// vis√£o r√°pida: revela aleat√≥rias por 3s
function peekSome(){
  if(lock) return; lock=true;
  const hidden = deck.map((c,i)=>({c,i})).filter(x=>!x.c.open && !x.c.matched);
  shuffle(hidden); const show = hidden.slice(0, Math.min(6, hidden.length));
  show.forEach(x=>deck[x.i].open=true); draw();
  setTimeout(()=>{ show.forEach(x=>deck[x.i].open=false); draw(); lock=false; }, 3000);
}

function toggleBW(){ board.classList.toggle('demo-bw'); }
function toggleInv(){ board.classList.toggle('inverse'); }

// √°udio simples (WebAudio)
let ctx; function sound(freq=800,d=.07){
  try{
    ctx = ctx || new (window.AudioContext||window.webkitAudioContext)();
    const o=ctx.createOscillator(), g=ctx.createGain();
    o.type='triangle'; o.frequency.value=freq; g.gain.value=.12; o.connect(g); g.connect(ctx.destination);
    const t=ctx.currentTime; o.start(t); g.gain.exponentialRampToValueAtTime(0.0001,t+d); o.stop(t+d);
  }catch(e){}
}

function initDemo(){
  buildDeck(); draw(); startBar();
}

// bind (protegido por lock no embaralhar)
$('#btnShuf').onclick=()=>{ if(lock) return; shuffleUnmatched(); startBar(); };
$('#btnBW').onclick = toggleBW;
$('#btnInv').onclick = toggleInv;
$('#btnPeek').onclick = peekSome;

initDemo();
</script>
</body>
</html>
